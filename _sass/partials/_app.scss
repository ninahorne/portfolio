// Main Styles

// See the other SASS partials for typography, variables etc.
// CSS Grid is used for the layout with fallbacks for less capable browsers
// declared beforehand, and a @supports feature query to reset fallbacks when
// necessary. https://rachelandrew.co.uk/css/cheatsheets/grid-fallbacks

@use "sass:map";

// the body element is our primary layout grid

body {
  perspective: 1px;
  overflow-x: hidden;
  overflow-y: auto;
}

// header, the first grid row
// it is also a grid for the logo and nav
header {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  border-bottom: 1px solid $border-gray;
  height: calc(4rem - 6px);
}

nav  {
  width: 90rem;
  max-width: 90rem;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  & > ul {
    display: flex;
    margin: 0;
    padding: 0;
    li {
      a {
        padding: 1rem;
        color: $main-color;
        position: relative;
        &::after{
          content: '';
          position: absolute;
          bottom: 0px; 
          left: 0;
          height: 2px;
          width: 100%; 
          background-color: $main-color; 
          transform: scale(0) translateX(30%);
        }
        &:hover {
          text-decoration: none;
          background-color: $color-light;
  
          &::after{
            transform: scale(1) translateX(0);
            transition: all 0.2s linear;
          }
        }
        &:visited {
          color: $main-color;
        }
      }
    }
  }
  
}



// our main content wrapper, the width scales with font size
main {
  max-width: 80rem;
  margin: 0 auto;
}



// blog posts list
html[data-current="blog"] main > section {
  ul li {
    padding: 2rem 0;
    // border-bottom: 0.05em solid $hairline-color;
    p {
      padding-bottom: 0;
    }
  }
}

// adjacent blog posts links
nav[aria-label="Adjacent Posts"] {
  padding: 4rem 0;
  ul {
    display: flex;
    li {
      flex: 0 0 50%;
      width: auto;
      &:nth-child(2) {
        text-align: right;
      }
    }
  }
}

// contact form
html[data-current="contact"] main > form {
  display: grid;
  label {
    display: none;
  }
  input,
  textarea {
    width: 100%;
    padding: 1rem;
    margin-bottom: 2rem;
  }
  button {
    width: 100%;
  }
}


footer {
  grid-column: full;
  display: grid;
  grid-template-columns:
    [full-start] minmax(1rem, 1fr)
    [main-start] minmax(0, 50rem) [main-end]
    minmax(1rem, 1fr) [full-end];
  // background-color: $grey-bg-color;
  > small {
    grid-column: main;
  }
}


// page intro
.intro-paragraph{
  border-radius: 20px;
  padding: 4rem;
  margin-top: 4rem;

  & > h2{
    @include title-font();
    font-size: 6rem;
    line-height: 6rem;
    letter-spacing: 1px;
    margin-top: 0;
    padding-top: 0;
    padding-bottom: 1rem;
    
    color: $main-color;
  }
}


.projects{
  display: flex;
  flex-wrap: wrap;

  .project{
    flex: 1 0 auto;
    width: calc(33% - 2rem);
    max-width: calc(33% - 20px);
    border: 2px solid black;
    margin: 1rem;
    padding: 1rem;
    border-radius: 8px;
    box-shadow: 4px 4px 0px black;
    display: flex;
    flex-direction: column;
    height: 250px;
    justify-content: space-between;

    .project__tech-stack{
      @include code-font();
      text-transform: uppercase;
    }
    .project__links{
      align-self: flex-end;
      justify-self: flex-end;
      
      a{
        font-size: 0.9rem;
        text-transform: uppercase;
        color: black;
        a:visited{
          color: inherit;
        }
      }
    }
  }
}